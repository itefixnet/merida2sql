<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<link rel="stylesheet" href="css1.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#OPTIONS">OPTIONS</a></li>
  <li><a href="#EXAMPLE">EXAMPLE</a></li>
  <li><a href="#EXIT-VALUES">EXIT VALUES</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
  <li><a href="#VERSION">VERSION</a></li>
  <li><a href="#CHANGELOG">CHANGELOG</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p><b>merida2sql</b> - Dump Merida to SQL</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<p><b>merida2sql</b> <b>--definition</b> <i>Merida database definition file</i> <b>--dumpdirectory</b> <i>Merida dump directory</i> <b>--targetdirectory</b> <i>SQL dump directory</i> <b>--database</b> <i>SQL database name</i> [<b>--verbose</b>] [<b>--help</b>]</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p><b>merida2sql</b> creates an SQL equivalent of a Merida dump directory. The result directory can be packed and sent to the vendor for migration from Merida.</p>

<h1 id="OPTIONS">OPTIONS</h1>

<dl>

<dt id="definition-Merida-database-definition-file"><b>--definition</b> <i>Merida database definition file</i></dt>
<dd>

<p>Required. A Merida database definition file describes the database structure used by Merida and will be used to interpret the corresponding Merida dump files properly. Steps to create a definition file:</p>

<pre><code> o Start Merida
 o Select menu &#39;Rapporter-&gt;Database-&gt;Menu&#39;
 o Select database from the list (normally called &#39;merida&#39; and selected by default)
 o Click &#39;Data definition&#39; button
 o Select &#39;Fil&#39;, specify a file location and select &#39;Semikolon&#39; as format
 o Click OK</code></pre>

</dd>
<dt id="dumpdirectory-Merida-dump-directory"><b>--dumpdirectory</b> <i>Merida dump directory</i></dt>
<dd>

<p>Required. A Merida dump directory contains dump files generated by Merida. Steps to create a Merida dump:</p>

<pre><code> o Start Merida
 o Select menu &#39;System-&gt;Database-&gt;Merida-&gt;Dump&#39;
 o A dialog box for a directory select will appear
 o Select a proper path and create a directory within it
 o Click OK</code></pre>

<p>NB! Dependent on the database size, a dump operation may take some time. You will see some progress message on the screen.</p>

</dd>
<dt id="targetdirectory-full-path-of-the-SQL-dump-directory"><b>--targetdirectory</b> <i>full path of the SQL dump directory</i></dt>
<dd>

<p>Required. This is the target directory in where all SQL equivalents of a Merida dump will be generated. A README file will also be generated. Upon a successful completion, you can simply zip that directory and send to the vendor. The directory should be empty and will be created automatically if it doesn&#39;t exist.</p>

</dd>
<dt id="database-SQL-database-name"><b>--database</b> <i>SQL database name</i></dt>
<dd>

<p>Required. Use that option to specify a name for the SQL database which will be created.</p>

</dd>
<dt id="verbose"><b>--verbose</b></dt>
<dd>

<p>Optional. Produces progress messages during running of the program. Turned off by default.</p>

</dd>
<dt id="help"><b>--help</b></dt>
<dd>

<p>Produces help message.</p>

</dd>
</dl>

<h1 id="EXAMPLE">EXAMPLE</h1>

<pre><code> merida2sql.pl --def d:\temp\merida\merida-db.def --dump d:\temp\merida --target d:\temp\sql --database test --verbose</code></pre>

<p>Loads Merida database definitions from <i>d:\temp\merida\merida-db.def</i>, scans all Merida dump files in the <i>d:\temp\merida</i> according to the database definition, generates SQL command files in <i>d:\temp\sql</i> to create the database <i>test</i> with corresponding tables, and populating them by bulk updates. Creates also a small <b>README.txt</b> file to describe steps to be taken at the vendor side.</p>

<h1 id="EXIT-VALUES">EXIT VALUES</h1>

<pre><code> 0 Normal termination
 1 Invalid argument
 2 Missing argument</code></pre>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Tevfik Karagulle, Oslo universitetssykehus, OSS MTV</p>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Oslo universitetssykehus, 2016</p>

<h1 id="VERSION">VERSION</h1>

<p>Version 6 November 2016</p>

<h1 id="CHANGELOG">CHANGELOG</h1>

<dl>

<dt id="version-6-nov-2016">version 6, nov 2016</dt>
<dd>

<pre><code> - More documentation and verbose output
 - Create a README file
 - Introduce target directory as an SQL variable</code></pre>

</dd>
<dt id="version-5-nov-2015">version 5, nov 2015</dt>
<dd>

<pre><code> - Mark line feeds in comments to be processed later</code></pre>

</dd>
<dt id="version-4-nov-2015">version 4, nov 2015</dt>
<dd>

<pre><code> - Process last lines in import tables</code></pre>

</dd>
<dt id="version-3-nov-2015">version 3, nov 2015</dt>
<dd>

<pre><code> - Explicit ISO-8859-1 support during file operations and sql bulk import</code></pre>

</dd>
<dt id="version-2-oct-2015">version 2, oct 2015</dt>
<dd>

<pre><code> - Calculate field lengths for decimals as well (default of (18,0) is not usable)</code></pre>

</dd>
<dt id="version-1-aug-2015">version 1, aug 2015</dt>
<dd>

<pre><code> - Initial release</code></pre>

</dd>
</dl>


</body>

</html>


